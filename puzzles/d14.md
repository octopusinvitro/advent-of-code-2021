<!DOCTYPE html><html lang=en-us><meta content="text/html; charset=UTF-8"http-equiv=content-type><meta charset=utf-8><title>Day 14 - Advent of Code 2021</title><!--[if lt IE 9]><script src=/static/html5.js></script><![endif]--><link href=shared_files/css.css rel=stylesheet><link href=shared_files/style.css rel=stylesheet><link href=shared_files/highcontrast.css rel="stylesheet alternate"title="High Contrast"><link href=https://adventofcode.com/favicon.png rel="shortcut icon"><header><div><h1 class=title-global><a href=https://adventofcode.com/ >Advent of Code</a></h1><nav><ul><li><a href=https://adventofcode.com/2021/about>[About]</a><li><a href=https://adventofcode.com/2021/events>[Events]</a><li><a href=https://teespring.com/stores/advent-of-code target=_blank>[Shop]</a><li><a href=https://adventofcode.com/2021/settings>[Settings]</a><li><a href=https://adventofcode.com/2021/auth/logout>[Log Out]</a></ul></nav><div class=user>Octopus in Vitro <span class=star-count>28*</span></div></div><div><h1 class=title-event><span class=title-event-wrap></span><a href=https://adventofcode.com/2021>2021</a><span class=title-event-wrap></span></h1><nav><ul><li><a href=https://adventofcode.com/2021>[Calendar]</a><li><a href=https://adventofcode.com/2021/support>[AoC++]</a><li><a href=https://adventofcode.com/2021/sponsors>[Sponsors]</a><li><a href=https://adventofcode.com/2021/leaderboard>[Leaderboard]</a><li><a href=https://adventofcode.com/2021/stats>[Stats]</a></ul></nav></div></header><div id=sidebar><div id=sponsor><div class=quiet>Our <a href=https://adventofcode.com/2021/sponsors>sponsors</a> help make Advent of Code possible:</div><div class=sponsor><a href=https://www.twilio.com/quest target=_blank onclick='ga&&ga("send","event","sponsor","sidebar",this.href)'rel=noopener>TwilioQuest</a> - Learn to code and lead your intrepid crew on a mission to save The Cloud in TwilioQuest, a PC role-playing game inspired by classics of the 16-bit era. Free forever, and available now for Windows, Mac, and Linux.</div></div></div><main><script async src=shared_files/analytics.js></script><script>window.addEventListener("click",function(e,t,n){"CODE"===e.target.nodeName&&3===e.detail&&(t=window.getSelection(),t.removeAllRanges(),n=document.createRange(),n.selectNodeContents(e.target),t.addRange(n))})</script><article class=day-desc><h2>--- Day 14: Extended Polymerization ---</h2><p>The incredible pressures at this depth are starting to put a strain on your submarine. The submarine has <a href=https://en.wikipedia.org/wiki/Polymerization target=_blank>polymerization</a> equipment that would produce suitable materials to reinforce the submarine, and the nearby volcanically-active caves should even have the necessary input elements in sufficient quantities.<p>The submarine manual contains <span title="HO

HO -> OH">instructions</span> for finding the optimal polymer formula; specifically, it offers a <em>polymer template</em> and a list of <em>pair insertion</em> rules (your puzzle input). You just need to work out what polymer would result after repeating the pair insertion process a few times.<p>For example:<pre><code>NNCB

CH -> B
HH -> N
CB -> H
NH -> C
HB -> C
HC -> B
HN -> C
NN -> C
BH -> H
NC -> B
NB -> B
BN -> B
BB -> N
BC -> B
CC -> N
CN -> C
</code></pre><p>The first line is the <em>polymer template</em> - this is the starting point of the process.<p>The following section defines the <em>pair insertion</em> rules. A rule like <code>AB -> C</code> means that when elements <code>A</code> and <code>B</code> are immediately adjacent, element <code>C</code> should be inserted between them. These insertions all happen simultaneously.<p>So, starting with the polymer template <code>NNCB</code>, the first step simultaneously considers all three pairs:<ul><li>The first pair (<code>NN</code>) matches the rule <code>NN -> C</code>, so element <code><em>C</em></code> is inserted between the first <code>N</code> and the second <code>N</code>.<li>The second pair (<code>NC</code>) matches the rule <code>NC -> B</code>, so element <code><em>B</em></code> is inserted between the <code>N</code> and the <code>C</code>.<li>The third pair (<code>CB</code>) matches the rule <code>CB -> H</code>, so element <code><em>H</em></code> is inserted between the <code>C</code> and the <code>B</code>.</ul><p>Note that these pairs overlap: the second element of one pair is the first element of the next pair. Also, because all pairs are considered simultaneously, inserted elements are not considered to be part of a pair until the next step.<p>After the first step of this process, the polymer becomes <code>N<em>C</em>N<em>B</em>C<em>H</em>B</code>.<p>Here are the results of a few steps using the above rules:<pre><code>Template:     NNCB
After step 1: NCNBCHB
After step 2: NBCCNBBBCBHCB
After step 3: NBBBCNCCNBBNBNBBCHBHHBCHB
After step 4: NBBNBNBBCCNBCNCCNBBNBBNBBBNBBNBBCBHCBHHNHCBBCBHCB
</code></pre><p>This polymer grows quickly. After step 5, it has length 97; After step 10, it has length 3073. After step 10, <code>B</code> occurs 1749 times, <code>C</code> occurs 298 times, <code>H</code> occurs 161 times, and <code>N</code> occurs 865 times; taking the quantity of the most common element (<code>B</code>, 1749) and subtracting the quantity of the least common element (<code>H</code>, 161) produces <code>1749 - 161 = <em>1588</em></code>.<p>Apply 10 steps of pair insertion to the polymer template and find the most and least common elements in the result. <em>What do you get if you take the quantity of the most common element and subtract the quantity of the least common element?</em></article><p>Your puzzle answer was <code>3247</code>.<article class=day-desc><h2 id=part2>--- Part Two ---</h2><p>The resulting polymer isn't nearly strong enough to reinforce the submarine. You'll need to run more steps of the pair insertion process; a total of <em>40 steps</em> should do it.<p>In the above example, the most common element is <code>B</code> (occurring <code>2192039569602</code> times) and the least common element is <code>H</code> (occurring <code>3849876073</code> times); subtracting these produces <code><em>2188189693529</em></code>.<p>Apply <em>40</em> steps of pair insertion to the polymer template and find the most and least common elements in the result. <em>What do you get if you take the quantity of the most common element and subtract the quantity of the least common element?</em></article><p>Your puzzle answer was <code>4110568157153</code>.<p class=day-success>Both parts of this puzzle are complete! They provide two gold stars: **<p>At this point, you should <a href=https://adventofcode.com/2021>return to your Advent calendar</a> and try another puzzle.<p>If you still want to see it, you can <a href=https://adventofcode.com/2021/day/14/input target=_blank>get your puzzle input</a>.<p>You can also <span class=share>[Share<span class=share-content>on <a href="https://twitter.com/intent/tweet?text=I%27ve+completed+%22Extended+Polymerization%22+%2D+Day+14+%2D+Advent+of+Code+2021&url=https%3A%2F%2Fadventofcode%2Ecom%2F2021%2Fday%2F14&related=ericwastl&hashtags=AdventOfCode"target=_blank>Twitter</a> <a href=javascript:void(0); target=_blank onclick='var e=prompt("Mastodon Instance / Server Name?");return"string"==typeof e&&e.length?void(this.href="https://"+e+"/share?text=I%27ve+completed+%22Extended+Polymerization%22+%2D+Day+14+%2D+Advent+of+Code+2021+%23AdventOfCode+https%3A%2F%2Fadventofcode%2Ecom%2F2021%2Fday%2F14"):!1'>Mastodon</a></span>]</span> this puzzle.</main><script>!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-69522494-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
